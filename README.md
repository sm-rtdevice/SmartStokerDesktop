# SmartStokerDesktop
Клиентская часть Smart-кочегара v2.1

если 0xFF - EEPROM не инициализирована! (установить через клиент или прошить EEPROM)

Показания датчиков температуры в клиенте:
N/A 'С - (-100) данные от контроллера не получены, если контроллер работает значит нет связи
-90    - ошибка получения данных контроллером от датчиков

Рабочий диапазон измерения температур: -55..125

Индикация на контроллере:
1) Горит зеленый светодиод	- управление от датчиков DS1820;
2) Горит желтый светодиод	- управление осуществляется в импульсном режимом (по времени):
3) Не горит ни один индикатор	- ручное управление (насос принудительно отключен);
4) Горят оба индикатора 	- ручное управление (насос принудительно включен, на реле горит зеленый светодиод);
5) Горят оба индикатора 	- (при перезапуске контроллера, затем зеленый, через некоторое время желтый) - неисправен 1 или оба датчика (возможно нет связи);

Зеленый индикатор на реле горит когда насос работает.
Красный индикатор на материнской плате контроллера - питание на контроллер подано.
Зеленый индикатор на материнской плате контроллера означает что выполняется внутренняя программа в контроллере.

Алгоритм работы:
По умолчанию установлено автоматическое управление от датчиков DS1820.
Переход на импульсный режим осуществляется в случае отказа датчика на радиаторе или вручную (по-выбору импульсного режима) или установки принудительного ручного управления насосом. При выходе из-строя датчика на котле контролллер продолжает работать в автоматическом режиме.

в автоматическом режиме:
Насос включается когда температура в радиаторе меньше нижнего предела включения.
Насос отключается когда температура в радиаторе больше верхнего предела отключения.

//Если верхний предел отключения больше текущей температуры в котле то верхний предел отключения берется равным текущей температуре в котле.

Если температура в котле меньше минимального установленного порога насос отключается (если котел не работает или потух).

в импульсном режиме:
насос работает в течение времени заданного параметром - "время работы"
насос отключен в течение времени заданного параметром - "время простоя"

------------------------------------------------------------------------
Распиновка контроллера:

Желтый GND на адаптер TTL
D0 - розовый (Rxd - на контроллере)
D1 - оранжевый (TxD - на контроллере)
D5 - красный (выход на реле)
D6 - черный(1-wire, DQ для датчиков ds1820)
A6 - индикатор режима работы (желтый - имп. режим)
A7 - индикатор режима работы (зеленый - от датчикой)

на датчиках:
DQ  - Желтый/синий
Vcc - (+5v) красный
GND - черный

подключение датчика к разъему свича (обжимка Rj45 стандартная):

DQ  - Желтый/синий   - коричневый
Vcc - (+5v) красный  - зеленый
GND - черный	     - коричнево-белый
